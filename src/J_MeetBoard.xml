<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="J_MeetBoard">
  <resultMap id="J_MeetBoardResult"  type="J_MeetBoard">
  <!-- 마이바티스는 타입이다. 클래스아니고 -->
  <!-- 밑에도 Class를 다 type으로 -->
  <result property="num"           column="num"/>
    <result property="writer"      column="writer"/>
    <result property="readcount"   column="readcount"/>
    <result property="ref"  	   column="ref"/>
    <result property="re_step" 	  column="re_step"/>
    <result property="re_level" column="re_level"/>
    <result property="subject" 	  column="subject"/>
    <result property="content" column="content"/>
    <result property="email"  column="email"/>
    <result property="passwd" 	  column="passwd"/>
    <result property="ip" column="ip"/>
    <result property="reg_date"  column="reg_date"/>
    <result property="del_yn" 	  column="del_yn"/>
    
  </resultMap>
  <select id="selectListJ_MeetBoard" parameterType="hashMap" resultMap="J_MeetBoardResult">
	select * from (select rowNum rn, a.* from (select * from board1 order by ref desc,re_step) a) where rn between #{startRow} and #{endRow}
  </select>
  <select id="selectTotalJ_MeetBoard" resultType="Integer">
  	select count(*) from board1
  </select>
</mapper>